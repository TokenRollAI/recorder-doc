# SOP Template: Adding a New Documentation Section with Internationalization (i18n) in Docusaurus

## Overview
This Standard Operating Procedure (SOP) provides a generalized template for adding a new documentation section to a Docusaurus-based website. The process includes creating the necessary directory structures for both the primary language (English) and its internationalization (i18n) counterparts (e.g., Simplified Chinese), updating the sidebar configuration to make the new section visible, and populating it with content. This guide ensures that new documentation is correctly integrated and localized.

## Step-by-Step Guide

### Step 1: Create Directory Structure for the New Section
* **Description:** To maintain organization, you must first create dedicated directories for the new documentation section in both the main `docs` folder and the corresponding `i18n` language folder.
* **Operation Details:**
 * Create the primary language directory: `docs/[section-name]` (e.g., `docs/usage`)
 * Create the translation directory: `i18n/[language-code]/docusaurus-plugin-content-docs/current/[section-name]` (e.g., `i18n/zh-Hans/docusaurus-plugin-content-docs/current/usage`)

### Step 2: Configure the Sidebar for Discovery
* **Description:** To make the new documentation section appear on the website, you must modify the sidebar configuration file (`sidebars.ts`). This step involves adding a new category that automatically generates links from the directory created in Step 1.
* **Operation Details:**
 * Modify file: `sidebars.ts`
 ```typescript
 // Example diff for sidebars.ts
 const sidebars: SidebarsConfig = {
   docs: [
     // ... existing categories
     {
       type: "category",
       label: "[SectionTitle]", // e.g., "Usage"
       items: [
         {
           type: "autogenerated",
           dirName: "[section-name]", // e.g., "usage"
         },
       ],
     },
     // ... other items
   ],
 };
 ```

### Step 3: Create Primary Language Documentation
* **Description:** Create the first documentation file within the new section's directory. This file will contain the content for the primary language (English) and includes frontmatter for metadata like position and title.
* **Operation Details:**
 * Create file: `docs/[section-name]/[document-name].mdx` (e.g., `docs/usage/as-doc.mdx`)
 * Add content:
 ```markdown
 ---
 sidebar_position: 1
 title: [DocumentTitle]
 ---

 Your documentation content here.
 ```

### Step 4: Add Translated Content
* **Description:** To support internationalization, create the corresponding documentation file in the language-specific i18n directory. The content should be the translated version of the primary document.
* **Operation Details:**
 * Create file: `i18n/[language-code]/.../[section-name]/[document-name].mdx` (e.g., `i18n/zh-Hans/.../usage/as-doc.mdx`)
 * Add translated content:
 ```markdown
 ---
 sidebar_position: 1
 title: [TranslatedDocumentTitle]
 ---

 Your translated documentation content here.
 ```

### Step 5: Deploy the Website
* **Description:** After adding and verifying the new content, deploy the Docusaurus website to make the changes live. Note that the correct command should be used, as simple `npm deploy` may not be configured.
* **Operation Details:**
 ```bash
 # Build and deploy the site (use the command configured in package.json)
 npm run deploy
 ```

## Key Analysis & Summary

### Key File Archetypes
*   **Sidebar Configuration (`sidebars.ts`):** The central control file for defining the navigation structure of the documentation. Changes here directly impact user navigation.
*   **Primary Documentation (`docs/**/*.mdx`):** Contains the source-of-truth content, typically in English.
*   **i18n Documentation (`i18n/[language-code]/**/*.mdx`):** Contains the translated versions of the documentation. Its directory structure must precisely mirror the `docs` directory.

### File Relationship Patterns
*   Creating a new directory under `docs/` (e.g., `docs/[section-name]`) is the first step to adding a new collection of documents.
*   This new directory must be linked in `sidebars.ts` via an `autogenerated` entry with a matching `dirName` for it to be visible.
*   For every content file created in `docs/`, a corresponding file should be created in the `i18n/[language-code]/...` path to ensure complete localization.

### Investigative Cues & Key Variables
*   **`dirName` in `sidebars.ts`:** This property is critical. It tells Docusaurus which directory under `docs/` to use for generating a sidebar category automatically.
*   **`i18n/[language-code]`:** The language code (e.g., `zh-Hans`) in the path is the key identifier for a translation. It must match the code defined in `docusaurus.config.ts`.
*   **Frontmatter (`--- ... ---`):** The metadata at the top of a markdown file, especially `sidebar_position` and `title`, is essential for controlling the order and appearance of documents.

### Primary vs. Secondary Changes
*   **Primary Changes (Core Logic):** The modification of `sidebars.ts` and the creation of the markdown content files are the core changes that deliver the new documentation.
*   **Secondary Changes (Boilerplate/Dependencies):** The creation of the new directories (`docs/[section-name]`, `i18n/.../[section-name]`) is a necessary but secondary structural setup.